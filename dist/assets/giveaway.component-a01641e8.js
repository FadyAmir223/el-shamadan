import{j as e,r as c,_ as f,u as y,f as w,g as j}from"./index-29c24519.js";import{u as b}from"./useTitle-0b7ee52c.js";const E=({category:t,lazy:a})=>e.jsxs("div",{className:"flex justify-center group absolute",children:[e.jsx("div",{className:"w-28 aspect-[5/7] bg-yellow rounded-lg absolute -translate-x-[10%] -rotate-1 group-hover:-translate-x-[75%] group-hover:translate-y-[16%] group-hover:-rotate-[24deg] time-curve grid place-items-center select-none will-change-transform",children:e.jsx("img",{src:`images/${t}/diva-180.webp`,alt:"diva"+t,className:"p-3",loading:a})}),e.jsx("div",{className:"w-28 aspect-[5/7] bg-purple rounded-lg absolute rotate-2 group-hover:-translate-x-[25%] group-hover:translate-y-[8%] group-hover:-rotate-[8deg] time-curve grid place-items-center select-none will-change-transform",children:e.jsx("img",{src:`images/${t}/hero-180.webp`,alt:"hero"+t,className:"p-3",loading:a})}),e.jsx("div",{className:"w-28 aspect-[5/7] bg-yellow rounded-lg absolute -translate-x-[6%] -rotate-3 group-hover:translate-x-[25%] group-hover:translate-y-[8%] group-hover:rotate-[8deg] time-curve grid place-items-center select-none will-change-transform",children:e.jsx("img",{src:`images/${t}/magician-180.webp`,alt:"magician"+t,className:"p-3",loading:a})}),e.jsx("div",{className:"w-28 aspect-[5/7] bg-purple rounded-lg absolute translate-x-[10%] translate-y-[3%] rotate-[5deg] group-hover:translate-x-[75%] group-hover:translate-y-[16%] group-hover:rotate-[24deg] time-curve grid place-items-center overflow-hidden select-none will-change-transform",children:e.jsx("img",{src:`images/${t}/king-180.webp`,alt:"king"+t,className:"p-3",loading:a})})]}),N=c.lazy(()=>f(()=>import("./lottery.component-3e10eab9.js"),["assets/lottery.component-3e10eab9.js","assets/index-29c24519.js","assets/index-e924a750.css","assets/lottery.component-171d1d7a.css"])),S={overlay:!1,activeCard:0,sound:{error:!1,win:!1},isDisabled:!1},_=(t,a)=>{switch(a.type){case"SET_OVERLAY":return{...t,overlay:!t.overlay};case"SET_ACTIVE_CARD":return{...t,activeCard:a.payload};case"SET_SOUND":return{...t,sound:a.payload};case"SET_DISABLED":return{...t,isDisabled:a.payload};default:return t}},l=["t-shirt","bag","notebook","mug"],D=()=>{const[t,a]=c.useReducer(_,S),{overlay:g,activeCard:n,sound:d,isDisabled:u}=t,p=c.useRef(null),[o]=y(["giveaway","products"]);b("giveaway");const i=(r=!1,s=!1)=>{a({type:"SET_SOUND",payload:{error:r,win:s}})},v=()=>{a({type:"SET_OVERLAY"})},h=r=>{r.preventDefault();const s=p.current,x=s.secret.value;x==="9999"||x==="٩٩٩٩"?(a({type:"SET_OVERLAY"}),s.reset()):a({type:"SET_SOUND",payload:{error:!0,win:!1}})},m=r=>{a({type:"SET_DISABLED",payload:!0}),setTimeout(()=>{a({type:"SET_DISABLED",payload:!1})},320);const s=r==="next"?(t.activeCard+1)%l.length:(t.activeCard-1+l.length)%l.length;a({type:"SET_ACTIVE_CARD",payload:s})};return e.jsxs("article",{className:"contain py-6 mx-auto relative",children:[e.jsx("h1",{className:"dark:text-yellow text-purple text-center mx-auto ltr:font-bold ltr:text-lg rtl:text-2xl center mb-6 max-w-md h-7",children:o("title")}),e.jsxs("div",{className:"max-w-xs mx-auto",children:[e.jsx("div",{className:"flex justify-center",children:l.map((r,s)=>e.jsx("span",{className:`will-change-transform ease-linear duration-[400ms] ${s!==n?"scale-0":""} ${s===(n+1)%l.length?"-translate-x-20 translate-y-24 scale-0":""} ${s===(n-1+l.length)%l.length?"translate-x-20 translate-y-24 scale-0":""}`,children:e.jsx(E,{category:r,lazy:s!==0?"lazy":null})},r))}),e.jsxs("div",{className:"mt-48 mb-8 flex justify-around rtl:flex-row-reverse px-10",children:[e.jsx(w,{className:`text-3xl dark:text-yellow text-purple dark:hover:text-yellow/80 hover:text-purple/80 cursor-pointer ${u?"pointer-events-none":""}`,onClick:()=>m("prev")}),e.jsx(j,{className:`text-3xl dark:text-yellow text-purple dark:hover:text-yellow/80 hover:text-purple/80 cursor-pointer ${u?"pointer-events-none":""}`,onClick:()=>m("next")})]})]}),e.jsxs("form",{ref:p,onSubmit:h,className:"max-w-md mx-auto",children:[["name","email","phone","secret"].map(r=>e.jsx("input",{type:r==="email"?"email":"text",name:r,placeholder:o(`form.${r}`),className:"form-input mb-4"},r)),e.jsx("button",{id:"win-btn",className:"form-button w-full cursor-pointer",children:o(o("form.submit"))})]}),g&&e.jsx(N,{categories:l,handleSound:i,setOverlay:v}),d.error&&e.jsx("audio",{src:"sounds/error.mp3",autoPlay:!0,onEnded:()=>i(!1)}),d.win&&e.jsx("audio",{src:"sounds/win.mp3",autoPlay:!0,onEnded:()=>i(void 0,!1)})]})};export{D as default};
